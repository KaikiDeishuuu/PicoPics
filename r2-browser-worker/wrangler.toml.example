name = "r2-browser-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Replace with your account ID
account_id = "YOUR_CLOUDFLARE_ACCOUNT_ID"

# R2 Bucket binding
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "YOUR_R2_BUCKET_NAME"  # 使用正确的R2 bucket名称

# Environment variables
[vars]
ALLOWED_ORIGINS = "*"  # Configure allowed origins for CORS

# Production environment
[env.production]
name = "r2-browser-worker-prod"

[[env.production.r2_buckets]]
binding = "IMAGES"
bucket_name = "YOUR_R2_BUCKET_NAME"

[env.production.vars]
ALLOWED_ORIGINS = "*"