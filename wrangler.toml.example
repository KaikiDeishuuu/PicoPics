name = "picopics-v2"
main = "workers/uploader.ts"
compatibility_date = "2024-01-01"

# AI binding for content moderation
[env.production.ai]
binding = "AI"

[env.production]
name = "uploader-worker-v2-prod"

# R2 Bucket Configuration
[[env.production.r2_buckets]]
binding = "IMAGES"
bucket_name = "your-bucket-name"

# D1 Database Configuration
[[env.production.d1_databases]]
binding = "DB"
database_name = "your-database-name"
database_id = "your-database-id"

# Durable Objects Configuration
[[env.production.durable_objects.bindings]]
name = "UPLOAD_QUOTA"
class_name = "UploadQuota"

[[env.production.durable_objects.bindings]]
name = "IP_BLACKLIST"
class_name = "IPBlacklist"

# Environment Variables (use wrangler secret put for sensitive values)
[env.production.vars]
MAX_FILE_SIZE = "10485760"
DAILY_QUOTA_BYTES = "104857600"
ABUSE_DETECTION_ENABLED = "false"
CONTENT_MODERATION_ENABLED = "true"
IMAGES_BUCKET_ID = "your-bucket-name"
ALLOWED_ORIGINS = "*"

# ⚠️ IMPORTANT: Never commit sensitive values!
# Use wrangler secret put to set these values:
# - GITHUB_CLIENT_ID
# - GITHUB_CLIENT_SECRET
# - ADMIN_TOKEN
# - TELEGRAM_BOT_TOKEN
# - TELEGRAM_CHAT_ID
