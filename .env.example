# ==========================================
# PicoPics 全局环境配置模板
# ==========================================
# 本文件包含所有 Workers 和前端需要的环境变量配置
# 使用说明：
# 1. 复制此文件为 .env
# 2. 填写实际的值
# 3. 运行 ./configure.sh 自动配置所有服务
# ==========================================

# ========== Cloudflare 账户信息 ==========
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_ACCOUNT_NAME=your_account_name

# ========== 域名配置 ==========
# 自定义域名（CDN）
CDN_DOMAIN=pic.YOUR_DOMAIN.com

# 前端域名（多个域名用逗号分隔）
FRONTEND_DOMAINS=YOUR_DOMAIN.com,your-project.pages.dev,*.your-project.pages.dev

# ========== R2 存储配置 ==========
R2_BUCKET_NAME=your_r2_bucket_name
R2_PUBLIC_BASE=https://pic.YOUR_DOMAIN.com

# ========== D1 数据库配置 ==========
D1_DATABASE_NAME=pico-pics-db
D1_DATABASE_ID=your_d1_database_id

# ========== KV 命名空间配置 ==========
KV_USER_CACHE_ID=your_kv_namespace_id

# ========== GitHub OAuth 配置 ==========
# 在 https://github.com/settings/developers 创建 OAuth App
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# ========== 安全配置（Secret 变量）==========
# 管理员 Token（随机生成的强密码）
ADMIN_TOKEN=your_random_admin_token_here

# 管理员用户列表（GitHub 用户 ID，逗号分隔）
ADMIN_USERS=your_github_user_id

# ========== 上传配置 ==========
# 单个文件最大大小（字节，10MB = 10485760）
MAX_UPLOAD_SIZE=10485760

# 每日上传配额（字节，1GB = 1073741824）
DAILY_QUOTA_BYTES=1073741824

# 每 IP 每日上传次数限制
DAILY_UPLOAD_LIMIT_PER_IP=20

# ========== 功能开关 ==========
# 启用 AI 内容审核
CONTENT_MODERATION_ENABLED=true

# 启用滥用检测和 IP 黑名单
ABUSE_DETECTION_ENABLED=true

# 启用 Cloudflare Turnstile 验证
TURNSTILE_ENABLED=false

# 启用 GitHub OAuth 认证
AUTH_ENABLED=true

# ========== Cloudflare Turnstile 配置（可选）==========
# 在 https://dash.cloudflare.com/?to=/:account/turnstile 获取
# TURNSTILE_SECRET_KEY=your_turnstile_secret_key
# TURNSTILE_SITE_KEY=your_turnstile_site_key

# ========== Telegram 通知配置（可选）==========
# 用于接收滥用检测通知
# TELEGRAM_BOT_TOKEN=your_telegram_bot_token
# TELEGRAM_CHAT_ID=your_telegram_chat_id

# ========== CORS 允许的来源 ==========
# 由 FRONTEND_DOMAINS 自动生成，格式：https://domain1,https://domain2
# ALLOWED_ORIGINS 将在配置脚本中自动设置
